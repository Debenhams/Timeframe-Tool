/* === Horizontal Planner (clean, standalone) === */
:root{
  --name-col-w: 260px;
}

/* Hide the old colour palette panel from the live view */
.colours-card,.palette,.color-panel{display:none!important}

.planner{
  margin-top:16px;
  border:1px solid var(--line,#e6e6f4);
  border-radius:8px;
  background:#fff;
  overflow:hidden;
}

.planner__header{
  display:grid;
  grid-template-columns: var(--name-col-w) 1fr;
  align-items:center;
  position:sticky;
  top:0;
  background:#f8fafc;
  z-index:2;
  border-bottom:1px solid var(--line,#e6e6f4);
  min-height:44px;
}

.planner__col--name{
  font-weight:800;
  padding:8px 10px;
  border-right:1px solid var(--line,#e6e6f4);
  white-space:nowrap;
}

#timeHeader{
  width:100%;
  position:relative;
  padding:6px 0;
}

.time-scale{position:relative;height:24px}
.time-scale .tick{
  position:absolute;top:0;transform:translateX(-50%);
  font-size:12px;color:#6b7280;user-select:none
}

.planner__body{
  display:block;
  overflow:auto;
  max-height:64vh;
}

.planner__row{
  display:grid;
  grid-template-columns: var(--name-col-w) 1fr;
  align-items:center;
  min-height:44px;
  border-bottom:1px solid #f0f2f7;
}
.planner__row:nth-child(odd){ background:#fbfdff; }

.planner__name{
  padding:10px;
  border-right:1px solid var(--line,#e6e6f4);
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
  display:flex;gap:8px;align-items:center
}
.planner__badge{
  font-size:12px;line-height:18px;padding:0 6px;border-radius:6px;
  background:#eef2f7;color:#374151
}

.planner__timeline{
  position:relative;
  height:44px;
  background:
    linear-gradient(#f6f8fb 1px, transparent 1px) 0 0/60px 44px;
}

.planner__bar{
  position:absolute;top:12px;height:20px;border-radius:4px;
  opacity:.96;cursor:pointer;transition:opacity .15s;
}
.planner__bar:hover{ opacity:1 }

.planner__guide{
  position:absolute;top:0;bottom:0;width:1px;
  background:rgba(0,0,0,.25);pointer-events:none;z-index:5
}

/* Use your existing color classes (match vertical view) */
.c-email{background:var(--color-email,#2ecc71);color:#fff}
.c-mirakl{background:var(--color-mirakl,#b1b51e);color:#111}
.c-social{background:var(--color-social,#5e35b1);color:#fff}
.c-break{background:var(--color-break,#cfd8dc);color:#213}
.c-lunch{background:var(--color-lunch,#b0bec5);color:#213}
.c-overtime{background:var(--color-overtime,#e53935);color:#fff}
.c-absence{background:var(--color-absence,#b0c4de);color:#111}
.c-shrink{background:var(--color-shrink,#ffd166);color:#213}
.c-meeting{background:#ffd54d;color:#111}

/* Remove page-grey margins so planner can go full width if parent allows */
body{ background:#fff }

/* Hide Colours palette block while keeping markup available */
#colorPalettePanel{ display:none!important }
[data-hide-colors="1"] #colorKey{ display:none!important }
[data-hide-colors="1"] h2:has(+ #colorKey),
[data-hide-colors="1"] h3:has(+ #colorKey),
[data-hide-colors="1"] h4:has(+ #colorKey),
[data-hide-colors="1"] h2:has(+ :has(#colorKey)),
[data-hide-colors="1"] h3:has(+ :has(#colorKey)),
[data-hide-colors="1"] h4:has(+ :has(#colorKey)){ display:none!important }